/*!
 * Cuttr 1.3.1
 * https://github.com/d-e-v-s-k/cuttr-js
 *
 * @license GPLv3 for open source use only
 * or Cuttr Commercial License for commercial use
 * https://cuttr.kulahs.de/pricing/
 *
 * Copyright (C) 2021 https://cuttr.kulahs.de/ - A project by DEVSK
 **/
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.Cuttr=e()}(this,function(){return function t(e,n){"use strict";var T=Object.create(t.prototype);T.options={elementsToTruncate:"string"==typeof e?document.querySelectorAll(e):e,originalContent:[],contentVisibilityState:[],contentTruncationState:[],truncate:"characters",length:100,ending:"...",loadedClass:"cuttr--loaded",title:!1,readMore:!1,readMoreText:"read more",readLessText:"read less",readMoreBtnPosition:"after",readMoreBtnTag:"button",readMoreBtnSelectorClass:"cuttr__readmore",readMoreBtnAdditionalClasses:"",dataIndex:"data-cuttr-index"},n&&Object.keys(n).forEach(function(t){T.options[t]=n[t]});function m(t,e,n,o){var i=t.dataset.cuttrIndex;switch(null==n&&(n=100),null==o&&(o="..."),t.dataset.cuttrMethod?t.dataset.cuttrMethod:T.options.truncate){case"characters":return e.length>n?(T.options.contentTruncationState[i]=!0,T.options.contentVisibilityState[i]=!1,e.substring(0,n-o.length)+o+" "):e;case"words":var a=e.split(/ (?=[^>]*(?:<|$))/);return a.length>n?(T.options.contentTruncationState[i]=!0,T.options.contentVisibilityState[i]=!1,a.splice(0,n).join(" ")+" "+o+" "):e;case"sentences":var r=e.match(/[^\.!\?]+[\.!\?]+/g);return r.length>n?(T.options.contentTruncationState[i]=!0,T.options.contentVisibilityState[i]=!1,r.splice(0,n).join(" ")+" "+o+" "):e;default:return e.length>n?(T.options.contentTruncationState[i]=!0,T.options.contentVisibilityState[i]=!1,e.substring(0,n-o.length)+o):e}}function f(t,e){var n,o=t,i=o.dataset.cuttrIndex,a=o.dataset.cuttrReadmore?o.dataset.cuttrReadmore:T.options.readMoreText,r=o.dataset.cuttrReadmore?o.dataset.cuttrReadless:T.options.readLessText,s=o.dataset.cuttrReadmorePosition?o.dataset.cuttrReadmorePosition:T.options.readMoreBtnPosition,d=o.dataset.cuttrReadmoreTag?o.dataset.cuttrReadmoreTag:T.options.readMoreBtnTag,c="."+T.options.readMoreBtnSelectorClass,l=o.dataset.cuttrReadmoreAdditionalClasses?o.dataset.cuttrReadmoreAdditionalClasses:T.options.readMoreBtnAdditionalClasses,u=T.options.contentVisibilityState[i]?r:a,p=" <"+d+' aria-expanded="'+(T.options.contentVisibilityState[i]?"true":"false")+'" class="'+T.options.readMoreBtnSelectorClass+" "+l+'">'+u.replace(/<[^>]*>/g,"")+"</"+d+">";if("after"==s&&o.nextElementSibling?n=o.nextElementSibling.matches(c):"inside"==s&&(n=o.querySelector(c)),!n){switch(s){case"after":o.insertAdjacentHTML("afterend",p);break;case"inside":o.insertAdjacentHTML("beforeend",p);break;default:console.log("no matching read-more button position defined")}e||("after"==s?o.nextElementSibling.addEventListener("click",function(t){t.target&&t.target.classList.contains(T.options.readMoreBtnSelectorClass)&&g(t,s)}):"inside"==s&&o.addEventListener("click",function(t){t.target&&t.target.classList.contains(T.options.readMoreBtnSelectorClass)&&g(t,s)}))}}function g(t,e){var n,o="after"==e?t.target.previousElementSibling:t.target.parentNode,i=o.innerHTML,a=o.dataset.cuttrIndex,r=o.dataset.cuttrReadmore?o.dataset.cuttrReadmore:T.options.readMoreText,s=o.dataset.cuttrReadmore?o.dataset.cuttrReadless:T.options.readLessText,d=o.dataset.cuttrLength?o.dataset.cuttrLength:T.options.length,c=o.dataset.cuttrEnding?o.dataset.cuttrEnding:T.options.ending;T.options.contentVisibilityState[a]?(n=m(o,i.trim(),d,c),o.innerHTML=n,T.options.contentVisibilityState[a]=!1,"inside"==e&&T.options.readMore&&f(o,!0),t.target.innerHTML=r.replace(/<[^>]*>/g,"")):(o.innerHTML=T.options.originalContent[a],T.options.contentVisibilityState[a]=!0,"inside"==e&&T.options.readMore&&f(o,!0),t.target.innerHTML=s.replace(/<[^>]*>/g,""))}return T.expandContent=function(t,e){for(var n=t?document.querySelectorAll(t):T.options.elementsToTruncate,o=0;o<n.length;o++){var i=n[o],a=(i.innerHTML,i.dataset.cuttrIndex),r=i.dataset.cuttrReadmore?i.dataset.cuttrReadless:T.options.readLessText,s=e||T.options.readMoreBtnPosition,d="."+T.options.readMoreBtnSelectorClass,c=void 0;T.options.contentVisibilityState[a]||(i.innerHTML=T.options.originalContent[a],T.options.contentVisibilityState[a]=!0,T.options.readMore&&("inside"==s&&f(i,!0),"after"==s?c=i.nextElementSibling:"inside"==s&&(c=i.querySelector(d)),c&&(c.innerHTML=r.replace(/<[^>]*>/g,""))))}},T.truncateContent=function(t,e){for(var n=t?document.querySelectorAll(t):T.options.elementsToTruncate,o=0;o<n.length;o++){var i,a=n[o],r=a.innerHTML,s=a.dataset.cuttrIndex,d=a.dataset.cuttrReadmore?a.dataset.cuttrReadmore:T.options.readMoreText,c=e||T.options.readMoreBtnPosition,l="."+T.options.readMoreBtnSelectorClass,u=a.dataset.cuttrLength?a.dataset.cuttrLength:T.options.length,p=a.dataset.cuttrEnding?a.dataset.cuttrEnding:T.options.ending,g=void 0;T.options.contentVisibilityState[s]&&(i=m(a,r.trim(),u,p),a.innerHTML=i,T.options.contentVisibilityState[s]=!1,T.options.readMore&&("inside"==c&&f(a,!0),"after"==c?g=a.nextElementSibling:"inside"==c&&(g=a.querySelector(l)),g&&(g.innerHTML=d.replace(/<[^>]*>/g,""))))}},T.destroy=function(t,e){var n;T.expandContent(t,e),n=t?document.querySelectorAll(t):T.options.elementsToTruncate;for(var o=0;o<n.length;o++){var i=n[o],a=(i.innerHTML,i.dataset.cuttrIndex),r=e||T.options.readMoreBtnPosition,s="."+T.options.readMoreBtnSelectorClass,d=void 0;T.options.contentVisibilityState[a]=!0,T.options.readMore&&("inside"==r&&f(i,!0),"after"==r?d=i.nextElementSibling:"inside"==r&&(d=i.querySelector(s)),d&&d.parentNode.removeChild(d)),i.classList.remove(T.options.loadedClass),i.removeAttribute(T.options.dataIndex),i=null}},function(){(function(){if(!T.options.elementsToTruncate)return;"length"in T.options.elementsToTruncate||(T.options.elementsToTruncate=[T.options.elementsToTruncate]);for(var t=0;t<T.options.elementsToTruncate.length;t++){var e=T.options.elementsToTruncate[t],n=e.innerHTML,o=e.dataset.cuttrLength?e.dataset.cuttrLength:T.options.length,i=e.dataset.cuttrEnding?e.dataset.cuttrEnding:T.options.ending,a=e.dataset.cuttrTitle?e.dataset.cuttrTitle:T.options.title,r=void 0;e.setAttribute(T.options.dataIndex,t),T.options.originalContent.push(n),r=m(e,n.trim(),o,i),a&&(e.title=e.textContent.trim()),e.innerHTML=r,T.options.contentTruncationState[t]&&(T.options.readMore&&f(e),e.classList+=" "+T.options.loadedClass)}}).call(this)}(),T}}),window.jQuery&&window.Cuttr&&function(o,i){"use strict";o&&i?o.fn.Cuttr=function(n){return this.each(function(t,e){n=o.extend({},n,{$:o}),o.data(e,"Cuttr")||o.data(e,"Cuttr",new i(e,n))})}:console.log("ERROR - jQuery is required to use the jQuery Cuttr adapter!")}(window.jQuery,window.Cuttr);
//# sourceMappingURL=cuttr.min.js.map
